<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="utf-8">
		<title>ピクチャージグソーパズル</title>
		<script defer src="PictureJigsawPuzzle.js"></script>
		<link rel="stylesheet" href="PictureJigsawPuzzle.css">
	</head>
	<body class="background_blue">
		<div id="header" class="header_blue">
			<h1>ピクチャージグソーパズル<span id="game_timer_area" class="hidden"> - <span name="game_timer_minute">0</span>:<span name="game_timer_second">00</span></span></h1>
		</div>
		<div id="main_area">
			<p id="message_canvas_not_available">お使いのブラウザはキャンバス描画に対応していないため、ピクチャージグソーパズルを利用出来ません。</p>
			<div id="puzzle_area" class="puzzle_area_image_select puzzle_frame" onclick="selectImage(this)">
				<div id="puzzle_background"></div>
				<p id="puzzle_empty_text">クリックして画像を選択</p>
				<img id="puzzle_image">
				<div id="puzzle_piece_area"></div>
				<canvas id="puzzle_divide_canvas"></canvas>
			</div>
			<div id="menus">
				<div id="main_menu">
					<div id="puzzle_division_settings">
						<label for="puzzle_column_division">縦のピース数</label>
						<input id="puzzle_column_division" type="number" min="1" value="5" onchange="divisionInputCheck();">
						<label for="puzzle_row_division">横のピース数</label>
						<input id="puzzle_row_division" type="number" min="1" value="5" onchange="divisionInputCheck();">
					</div>
					<p id="puzzle_piece_count">パズルピースの総数：<span name="piece_count">25</span>ピース</p>
					<div id="start" class="button button_blue button_disabled" onclick="start(this);">スタート</div>
					<ul id="cannot_start_message">
						<li>画像を選択して下さい。</li>
						<li class="red_color hidden">ピースの数が少な過ぎます。</li>
						<li class="red_color hidden">縦のピース数が不正です。</li>
						<li class="red_color hidden">横のピース数が不正です。</li>
					</ul>		
				</div>
				<div id="pause_menu" class="hidden">
					<div class="button button_green" onclick="pause();">再開</div>
					<div class="button button_space button_green" onclick="fadeInElement(document.getElementById('image_show_area'), 0.5);">元の画像を確認</div>
					<div class="button button_space button_green" onclick="newGame();">メインメニューに戻る</div>
				</div>
				<div id="end_menu" class="hidden">
					<h1 id="result_message"><span name="piece_count">25</span>ピースのパズルを<span name="game_timer_minute">0</span>:<span name="game_timer_second">00</span>で完成させました！</h1>
					<div class="button button_green" onclick="newGame();">もう一度プレイ</div>
					<div class="button button_space button_green" onclick="window.open('https://twitter.com/intent/tweet?text=' + document.getElementById('result_message').innerText + '&url=https://gakuto1112.github.io/PictureJigsawPuzzle/' + '&hashtags=PictureJigsawPuzzle', '_blank')">Twitterに投稿</div>
				</div>
			</div>
		</div>
		<div id="popup_display">
			<p id="popup_display_text"></p>
		</div>
		<div id="pause_button" class="button button_green hidden" onclick="pause();">
			<div></div>
			<div></div>
		</div>
		<div id="piece_select_area" class="hidden"></div>
		<div id="piece_moving_area" class="hidden"></div>
		<div id="image_show_area" class="hidden">
			<div>
				<img class="puzzle_frame">
				<div class="button button_green" onclick="fadeOutElement(document.getElementById('image_show_area'), 1.5);">閉じる</div>
			</div>
		</div>
	</body>
</html>